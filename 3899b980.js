(()=>{const i=(s,t)=>Math.random()*(t-s)+s,n=[{front:"#52A7DD",back:"#2287BD"},{front:"#f07178",back:"#c04148"},{front:"#ffcb6b",back:"#cf9b3b"}],r=(s,t)=>{const e=i(s[0],s[1]),h=t[1]-t[0]+1;let o=t[1]-Math.abs(i(0,h)+i(0,h)-h);return o>=t[1]-1&&(o+=Math.random()<.25?i(1,3):0),{x:e,y:-o}};function a(s,t){this.options=t,this.randomModifier=i(0,99),this.color=n[Math.floor(i(0,n.length))],this.dimensions={x:i(8,16),y:i(8,14)},this.position={x:i(s.width/2,s.width/2),y:i(s.height/2,s.height/2)},this.rotation=i(0,2*Math.PI),this.scale={x:1,y:1},this.velocity=r([-9,9],[6,11])}a.prototype.update=function(){this.velocity.x-=this.velocity.x*this.options.dragConfetti,this.velocity.y=Math.min(this.velocity.y+this.options.gravityConfetti,this.options.terminalVelocity),this.velocity.x+=Math.random()>.5?Math.random():-Math.random(),this.position.x+=this.velocity.x,this.position.y+=this.velocity.y,this.scale.y=Math.cos((this.position.y+this.randomModifier)*.09)};function c(s,t){this.options=t,this.color=n[Math.floor(i(0,n.length))].back,this.radius=i(1,2),this.position={x:i(s.width/2,s.width/2),y:i(s.height/2,s.height/2)},this.velocity={x:i(-6,6),y:i(-8,-12)}}c.prototype.update=function(){this.velocity.x-=this.velocity.x*this.options.dragSequins,this.velocity.y=this.velocity.y+this.options.gravitySequins,this.position.x+=this.velocity.x,this.position.y+=this.velocity.y};class l extends HTMLElement{constructor(){super(),this.canvas=null,this.confetti=[],this.sequins=[],this.options={confettiCount:55,sequinCount:30,gravityConfetti:.25,gravitySequins:.35,dragConfetti:.025,dragSequins:.02,terminalVelocity:4}}connectedCallback(){this.style="display: block; position: relative;",this.canvas=globalThis.document.createElement("canvas"),this.canvas.id="confetti-container-canvas-\u{1F389}",this.ctx=this.canvas.getContext("2d"),this.canvas.width=this.offsetWidth,this.canvas.height=this.offsetHeight,this.canvas.style="pointer-events: none; position: absolute; top:0; left: 0; width: 100%; height: 100%; z-index: 1000; image-rendering: crisp-edges;",this.prepend(this.canvas)}static get observedAttributes(){return["popped"]}attributeChangedCallback(t,e,h){const o=globalThis.matchMedia("(prefers-reduced-motion: reduce)").matches;t==="popped"&&e===null&&!o?this.popConfetti():o&&this.removeAttribute("popped")}popConfetti(){for(let t=0;t<this.options.confettiCount;t++)this.confetti.push(new a(this.canvas,this.options));for(let t=0;t<this.options.sequinCount;t++)this.sequins.push(new c(this.canvas,this.options));this.render()}render(){this.ctx.clearRect(0,0,this.canvas.width,this.canvas.height),this.confetti.forEach((t,e)=>{let h=t.dimensions.x*t.scale.x,o=t.dimensions.y*t.scale.y;this.ctx.translate(t.position.x,t.position.y),this.ctx.rotate(t.rotation),t.update(),this.ctx.fillStyle=t.scale.y>0?t.color.front:t.color.back,this.ctx.fillRect(-h/2,-o/2,h,o),this.ctx.setTransform(1,0,0,1,0,0)}),this.sequins.forEach((t,e)=>{this.ctx.translate(t.position.x,t.position.y),t.update(),this.ctx.fillStyle=t.color,this.ctx.beginPath(),this.ctx.arc(0,0,t.radius,0,2*Math.PI),this.ctx.fill(),this.ctx.setTransform(1,0,0,1,0,0)}),this.confetti.forEach((t,e)=>{t.position.y-25>=this.canvas.height&&this.confetti.splice(e,1)}),this.sequins.forEach((t,e)=>{t.position.y-25>=this.canvas.height&&this.sequins.splice(e,1)}),this.sequins.length||this.confetti.length?globalThis.requestAnimationFrame(this.render.bind(this)):this.removeAttribute("popped")}}globalThis.customElements&&globalThis.customElements.define&&customElements.define("confetti-container",l)})();
